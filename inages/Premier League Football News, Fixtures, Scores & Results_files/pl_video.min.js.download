"use strict";PULSE.app.templates.auto_playlist_item='<li class="auto-playlist__item" data-video-id="{{ item.id }}" data-media-id="{{ item.mediaId }}" data-video-title="{{ item.title }}" data-video-description="{{ item.description }}" data-video-duration="{{ item.duration }}"><a class="u-link-reset" href=""><article class="inline-video-thumb"><div class="col-4 col-4-m col-4-s inline-video-thumb__image-container"><picture><source media="(max-width: 640px)" srcset="{{ item.thumbnail.imageMobileUrl }}"><source media="(max-width: 1024px)" srcset="{{ item.thumbnail.imageTabletUrl }}"><source media="(min-width: 1024px)" srcset="{{ item.thumbnail.imageUrlDesktop }}, {{ item.thumbnail.imageUrl2x }} 2x"><img class="inline-video-thumb__image" src="{{ item.thumbnail.imageUrl }}" alt=""></picture><time class="inline-video-thumb__play-time {{#item.fantasy }} inline-video-thumb__play-time--alt {{/item.fantasy }}">{{#item.fantasy }} <i class="icn video-page-play-alt"></i> {{/item.fantasy }} {{^item.fantasy }} <i class="icn video-page-play"></i> {{/item.fantasy }} <span class="inline-video-thumb__play-time-label">{{ item.durationFormatted }}</span> </time><span class="inline-video-thumb__now-playing">Now Playing</span></div><div class="col-8 col-8-m col-8-s inline-video-thumb__text-container"><h1 class="inline-video-thumb__title">{{ item.title }}</h1>{{#item.closedCaption }} <svg class="inline-video-thumb__desc-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="11" viewBox="0 0 88 62"><path d="M88 30.54c-.135 14.353-.674 20.61-4.04 25.031-.606 1.021-1.751 1.497-2.693 2.177-3.299 2.517-18.853 3.333-36.897 3.47-18.044-.137-34.338-.953-37.57-3.47-1.01-.68-2.155-1.156-2.828-2.177C.672 51.151.202 44.893 0 30.54.202 16.188.673 9.93 3.972 5.509 4.645 4.557 5.79 4.013 6.8 3.333 10.032.884 26.326 0 44.37 0s33.598.884 36.897 3.333c.942.68 2.087 1.224 2.693 2.176C87.326 9.93 87.865 16.189 88 30.54zM32.24 44.462c4.368 0 7.98-1.554 10.71-4.494l-3.906-3.864c-1.89 2.058-4.2 2.898-6.846 2.898-5.418 0-9.366-3.78-9.366-9.492 0-5.712 3.948-9.492 9.366-9.492 2.604 0 4.956.882 6.804 2.94l3.948-3.906c-2.73-2.94-6.342-4.494-10.71-4.494-8.82 0-15.078 6.216-15.078 14.952S23.42 44.462 32.24 44.462zm28.812 0c4.368 0 7.98-1.554 10.71-4.494l-3.906-3.864c-1.89 2.058-4.2 2.898-6.846 2.898-5.418 0-9.366-3.78-9.366-9.492 0-5.712 3.948-9.492 9.366-9.492 2.604 0 4.956.882 6.804 2.94l3.948-3.906c-2.73-2.94-6.342-4.494-10.71-4.494-8.82 0-15.078 6.216-15.078 14.952s6.258 14.952 15.078 14.952z"/></svg> {{/item.closedCaption}} {{#item.audioDescription }} <svg class="inline-video-thumb__desc-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="11" viewBox="0 0 88 62"><path d="M88 30.54c-.135 14.353-.674 20.61-4.04 25.031-.606 1.021-1.751 1.497-2.693 2.177-3.299 2.517-18.853 3.333-36.897 3.47-18.044-.137-34.338-.953-37.57-3.47-1.01-.68-2.155-1.156-2.828-2.177C.672 51.151.202 44.893 0 30.54.202 16.188.673 9.93 3.972 5.509 4.645 4.557 5.79 4.013 6.8 3.333 10.032.884 26.326 0 44.37 0s33.598.884 36.897 3.333c.942.68 2.087 1.224 2.693 2.176C87.326 9.93 87.865 16.189 88 30.54zM37.217 44h6.132L32.051 15.02h-7.098L13.697 44h6.132l2.73-7.266h11.928L37.217 44zM24.491 31.526l4.032-10.668 4.032 10.668h-8.064zm32.97-16.506H47.297V44h10.164c9.828 0 15.288-6.048 15.288-14.49s-5.46-14.49-15.288-14.49zm0 23.604h-4.494V20.396h4.494c6.384 0 9.618 3.78 9.618 9.114 0 5.334-3.234 9.114-9.618 9.114z"/></svg> {{/item.audioDescription}}</div><span class="inline-video-thumb__next-label">Coming up next</span></article></a></li>',PULSE.app.templates.loggedinpersonalisedtitle='<span class="badge badge-image-container" data-widget="club-badge-image" data-size="100"><img class="badge-image badge-image--100 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"></span>',PULSE.app.templates.loggedinpersonalisedvideosheader='<div class="personalised-video__content t{{ optaId }}-bg"><h2 class="personalised-video__title">{{ title }}</h2><p class="personalised-video__description">{{ description }}</p><a href="{{ linkUrl }}" class="personalised-video__link js-default-link">{{ linkText }}<span class="icn arrow-rightwhite"></span></a></div><div class="personalised-video__club-badge u-hide-tab"><span class="badge badge-image-container" data-widget="club-badge-image" data-size="70"><img class="badge-image badge-image--70 js-badge-image" src="{{ clubBadge }}" srcset="{{ clubBadge }}, {{ clubBadgeRetina }} 2x"></span></div><div class="personalised-video__image-wrapper" style="background-image: url({{ imageUrl }}); background-size: cover; background-repeat: no-repeat; background-position: center;"><div class="personalised-video__club-badge u-show-tab"><span class="badge badge-image-container" data-widget="club-badge-image" data-size="50"><img class="badge-image badge-image--50 js-badge-image" src="{{ clubBadgeSmall }}" srcset="{{ clubBadgeSmall }}, {{ clubBadgeSmallRetina }} 2x"></span></div></div>',PULSE.app.templates.novideosmessage="<li><h4>{{ text }}</h4></li>",PULSE.app.templates.personalisedvideo='<li class="personalised-video__video-item" data-ui-modal="#videoPlayer" data-ui-args="{{ uiArgs }}"><a href="{{ videoPath }}/{{ id }}?FOOTBALL_CLUBS={{ clubId }}" class="thumbnail {{ fantasy }} videoThumb placeholder js-content-load" data-initialised="false"><figure><span class="image thumbCrop-video-small"><svg class="videoThumb__play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 40"><path d="M0 3.29C0 .743 2.805-.835 5.017.468l28.361 16.71c2.163 1.273 2.163 4.373 0 5.645L5.018 39.533C2.804 40.836 0 39.257 0 36.709V3.291z"/></svg> <img class="videoThumb__img" src="{{leadMediaUrls}}" data-src="" data-src-placeholder="${thumbPlaceholderUrl}" alt=""> <span class="runTime"><span class="icn play-w"></span> <time datetime="PT2M59S">{{durationFormatted}}</time></span></span><figcaption><span class="title">{{ title }}</span> <time class="published">{{ dateFormatted }}</time> {{#closedCaptionTitle}} <span class="closedCaption">{{ closedCaptionTitle }}</span> {{/closedCaptionTitle}} {{#audioDescTitle}} <span class="audioDesc">{{ audioDescTitle }}</span> {{/audioDescTitle}}</figcaption></figure></a></li>',function(a,i,o){a.PersonalisedTitle=function(e){var t=this;t.container=e,t.clubNameHeading=t.container.querySelector(".js-personalised-title-team"),t.clubBadgeImg=t.container.querySelector(".js-personalised-title-badge"),a.loggedInUserData&&(!a.loggedInUserData||a.loggedInUserData.loggedin)||(a.loggedInUserData=JSON.parse(o.localStorage.getStorage("userData")));e=a.loggedInUserData;e.loggedin&&e.club&&e.club.opta&&(t.club={optaId:e.club.opta,id:e.club.id,clubName:e.club.name,abbr:e.club.abbr},t.setClubInfo())},a.PersonalisedTitle.prototype.setClubInfo=function(){var e=this,t="t"+e.club.optaId,t={clubBadge:i.getClubBadge(t,"100"),clubBadgeRetina:i.getClubBadge(t,"100",!0),defaultBadge:"this.src = '"+i.getDefaultBadge("100")+"'"};e.clubNameHeading.innerHTML=e.club.clubName,e.clubBadgeImg.innerHTML=Mustache.render(a.templates.loggedinpersonalisedtitle,t),o.style.removeClass(e.clubBadgeImg,"u-hide"),a.clubBadge(e.clubBadgeImg,!0)};var e=document.querySelector('[data-widget="personalised-title"]');e&&setTimeout(function(){a.PersonalisedTitle=new a.PersonalisedTitle(e)},1e3)}(PULSE.app,PULSE.app.common,PULSE.core,PULSE.I18N),function(r,n,i,l){var o={thumbnail:"Media Thumbnail - Small",thumbnailRetina:"Media Thumbnail - Large",thumbnailMobile:"Media Thumbnail - Small",thumbnailMobileRetina:"Media Thumbnail - Small"},s="u-hide";r.personalisedFilteredVideos=function(e){var t=this;t.container=e,t.requestConfig={},t.requestConfig.tagNames="",t.requestConfig.compSeasonId="",t.videoPath=t.container.dataset.videoPath,t.videoWrapper=t.container.querySelector(".js-video-wrapper"),t.buttonWrapper=t.container.querySelector(".js-button-wrapper"),t.loadMoreButton=t.container.querySelector(".js-load-more"),t.loaderElement=t.container.querySelector(".js-loader-element"),t.page=0,t.filterControllerElement=t.container.querySelector("section.pageFilter"),t.filterControllerElement&&(t.compSeasonsInit=!1,t.filterController=new r.common.listFilterController(t.filterControllerElement,{dropdowns:r.filterGroups[t.filterControllerElement.getAttribute("data-filter-config")],delegate:t})),r.loggedInUserData.loggedin||(r.loggedInUserData=JSON.parse(n.localStorage.getStorage("userData"))),t.userData=r.loggedInUserData,t.userData&&t.userData.club&&(t.requestConfig.teamId=t.userData.club.id,t.setListeners())},r.personalisedFilteredVideos.prototype.setListeners=function(){var e=this;e.loadMoreButton.addEventListener("click",function(){e.page=e.page+1,e.initData(),e.scrollLoader?e.scrollLoader.newLoader():e.scrollLoader=new r.common.scrollLoader(e.container,e,!0)})},r.personalisedFilteredVideos.prototype.filterCleared=function(e){this.filterUpdated(e)},r.personalisedFilteredVideos.prototype.filterUpdated=function(e,a){var i=this,t=i.requestConfig.compSeasonId;i.page=0,i.scrollLoader&&i.scrollLoader.removeLoader(),e.map(function(e){var t=a&&-1!==e.autoId&&void 0!==e.autoId?e.autoId:e.state.id;switch(e.name){case"compSeasons":i.requestConfig.compSeasonId=t,"0"===e.state.index?i.requestConfig.date=moment(new Date).locale(r.language).format("YYYY-MM-DD"):i.requestConfig.date=void 0;break;case"tagNames":i.requestConfig.tagNames=t}}),a&&t===i.requestConfig.compSeasonId||i.initData()},r.personalisedFilteredVideos.prototype.initData=function(){var e=this,t=-1===e.requestConfig.compSeasonId?'"FOOTBALL_CLUB:'+e.requestConfig.teamId+'"':'"FOOTBALL_CLUB:'+e.requestConfig.teamId+'"and"FOOTBALL_COMPSEASON:'+e.requestConfig.compSeasonId+'"',t={page:e.page,pageSize:12,referenceExpression:t,order:"timestamp desc",date:e.requestConfig.date};-1!==e.requestConfig.tagNames&&(t.tagNames=e.requestConfig.tagNames);e={url:r.common.createContentPath("video",t),method:"GET",callback:e.renderClubVideos,forceCallback:!0,target:this};n.data.request(e.url,e.method,e.callback,e.target)},r.personalisedFilteredVideos.prototype.renderClubVideos=function(e){var t=this;if(e&&e.content.length){var a=e.content;t.scrollLoader&&(t.scrollLoader.contentLoaded(),t.page===e.pageInfo.numPages-1&&t.scrollLoader.removeLoader()),0===t.page&&(t.videoWrapper.innerHTML=""),0<e.pageInfo.page||1===e.pageInfo.numPages?n.style.hasClass(t.buttonWrapper,s)||n.style.addClass(t.buttonWrapper,s):n.style.hasClass(t.buttonWrapper,s)&&n.style.removeClass(t.buttonWrapper,s);for(var i=0;i<a.length;i++){var o=t.setData(a[i]);o.clubId=t.userData.club.id,t.videoWrapper.innerHTML=t.videoWrapper.innerHTML+Mustache.render(r.templates.personalisedvideo,o)}t.dataLoader&&t.dataLoader.removeLoader()}else t.videoWrapper.innerHTML=Mustache.render(r.templates.novideosmessage,{text:l.lookup("label.yourclub.novideos")})},r.personalisedFilteredVideos.prototype.didRequestLoad=function(){var e=this;e.page=e.page+1,e.initData()},r.personalisedFilteredVideos.prototype.setData=function(e){var t=i.getContentModel(e,o),a=void 0,a=e.thumbnail&&e.thumbnail.onDemandUrl?e.thumbnail.onDemandUrl+"?width=350px":""+e.imageUrl;return null!==t.tags&&t.tags.map(function(e){"fantasy"===e.label.toLowerCase()&&(t.fantasy="thumbnail--fantasy")}),{id:e.id,audioDescTitle:t.avString,fantasy:t.fantasy,closedCaptionTitle:t.ccString,videoPath:this.videoPath,type:e.type,mediaId:e.mediaId,uiArgs:e.uiArgs,title:e.title,description:e.description,subtitle:e.subtitle,duration:e.duration,durationFormatted:i.durationToTime(e.duration),link:t.link,dateFormatted:t.dateFormatted,leadMediaUrls:a||t.leadMediaUrls,publishFrom:e.pusblishFrom,isPortrait:t.isPortrait}};r.filterGroups.setData(function(){for(var e=document.querySelectorAll('[data-widget="personalised-video-filtered-list"]'),t=0;t<e.length;t++)new r.personalisedFilteredVideos(e[t])})}(PULSE.app,PULSE.core,PULSE.app.common,(PULSE.ui,PULSE.I18N)),function(o,i,r){var n="u-hide",l="is-transitioning",s="loggedinpersonalisedvideosheader",d={thumbnail:"Media Thumbnail - Small",thumbnailRetina:"Media Thumbnail - Large",thumbnailMobile:"Media Thumbnail - Small",thumbnailMobileRetina:"Media Thumbnail - Small"};o.PersonalisedVideo=function(e){var t=this;t.container=e,t.contentWrapper=t.container.querySelector(".js-content-wrapper"),t.header=t.container.querySelector(".js-header"),t.headerName=t.container.querySelector(".js-header-name"),t.headerTeam=t.container.querySelector(".js-header-team"),t.headerLinkResponsive=t.container.querySelector(".js-header-link-responsive"),t.videoContainer=t.container.querySelector(".js-video-container"),t.videoWrapper=t.container.querySelector(".js-video-wrapper"),t.videoPath=t.container.dataset.videoPath,o.loggedInUserData||(o.loggedInUserData=JSON.parse(r.localStorage.getStorage("userData")));e=o.loggedInUserData;e.loggedin&&e.club&&e.club.opta?(t.club={optaId:e.club.opta,id:e.club.id,clubName:e.club.name,abbr:e.club.abbr},t.user={firstName:e.plProfile.u.fn},t.getClubPromo(),t.videoContainer&&t.getClubVideos()):t.renderDefaultLink()},o.PersonalisedVideo.prototype.getClubPromo=function(){var e={page:0,pageSize:1,references:"FOOTBALL_CLUB:"+this.club.id,tagNames:"Video - Club Promo"},e={url:o.common.createContentPath("promo",e),method:"GET",callback:this.renderClubPromo,forceCallback:!0,target:this};r.data.request(e.url,e.method,e.callback,e.target)},o.PersonalisedVideo.prototype.renderClubPromo=function(e){var t=this,e=e.content[0],a={title:e.title,description:e.description,clubBadge:i.getClubBadge("t"+t.club.optaId,"70"),clubBadgeRetina:i.getClubBadge("t"+t.club.optaId,"70",!0),clubBadgeSmall:i.getClubBadge("t"+t.club.optaId,"50"),clubBadgeSmallRetina:i.getClubBadge("t"+t.club.optaId,"50",!0),optaId:t.club.optaId};e.links.length&&(a.linkUrl=e.links[0].promoUrl,a.linkText=e.links[0].linkText),e.promoItem&&(e.promoItem.onDemandUrl?a.imageUrl=e.promoItem.onDemandUrl+"?width=668&height=240":(e=e.promoItem.variants.filter(function(e){return"Fantasy widget"===e.tag.label})).length&&(a.imageUrl=e[0].url)),t.header?(r.style.addClass(t.container,l),setTimeout(function(){r.style.removeClass(t.header,n),r.style.removeClass(t.headerLinkResponsive,n),r.style.removeClass(t.videoContainer,n),t.contentWrapper.innerHTML=Mustache.render(o.templates[s],a),t.headerName.innerHTML=t.user.firstName+", ",t.headerTeam.innerHTML=t.club.clubName+" ",o.clubBadge(t.contentWrapper,!0)},900),setTimeout(function(){r.style.removeClass(t.container,l)},1e3)):(t.contentWrapper.innerHTML=Mustache.render(o.templates[s],a),o.clubBadge(t.contentWrapper,!0))},o.PersonalisedVideo.prototype.getClubVideos=function(){var e={page:0,pageSize:4,references:"FOOTBALL_CLUB:"+this.club.id,order:"timestamp desc"},e={url:o.common.createContentPath("video",e),method:"GET",callback:this.renderClubVideos,forceCallback:!0,target:this};r.data.request(e.url,e.method,e.callback,e.target)},o.PersonalisedVideo.prototype.renderClubVideos=function(e){var a=this;if(e&&e.content&&e.content.length)for(var i=e.content,t=0;t<i.length;t++)!function(e){var t=a.setData(i[e]);t.clubId=a.club.id,setTimeout(function(){a.videoWrapper.innerHTML=a.videoWrapper.innerHTML+Mustache.render(o.templates.personalisedvideo,t)},900)}(t)},o.PersonalisedVideo.prototype.setData=function(e){var t=i.getContentModel(e,d),a=void 0,a=e.thumbnail&&e.thumbnail.onDemandUrl?e.thumbnail.onDemandUrl+"?width=350px":""+e.imageUrl;return{id:e.id,audioDescTitle:t.avString,closedCaptionTitle:t.ccString,videoPath:this.videoPath,type:e.type,mediaId:e.mediaId,uiArgs:e.uiArgs,title:e.title,description:e.description,subtitle:e.subtitle,duration:e.duration,durationFormatted:i.durationToTime(e.duration),link:t.link,dateFormatted:t.dateFormatted,leadMediaUrls:a||t.leadMediaUrls,publishFrom:e.pusblishFrom,isPortrait:t.isPortrait}},o.PersonalisedVideo.prototype.renderDefaultLink=function(){var e=this.container.querySelector(".js-default-link");e&&r.style.hasClass(e,n)&&r.style.removeClass(e,n)};var e=document.querySelector('[data-widget="personalised-video"]');e&&setTimeout(function(){o.PersonalisedVideo=new o.PersonalisedVideo(e)})}(PULSE.app,PULSE.app.common,PULSE.core,PULSE.I18N),function(t,o){var r="u-hide";t.PlaylistLoader=function(e){var t=this;t.container=e,t.numLoadItems=parseInt(t.container.dataset.pageSize)||4,t.loadBtn=t.container.querySelector(".js-load-more"),t.loader=t.container.querySelector(".js-loader");e=t.container.querySelectorAll(".js-playlist-load-item");t.loadItems=Array.prototype.slice.call(e),t.showItems(),setTimeout(function(){o.style.addClass(t.loader,r)}),t.loadBtn.addEventListener("click",function(){o.style.removeClass(t.loader,r),setTimeout(function(){t.showItems(),o.style.addClass(t.loader,r)},1e3)})},t.PlaylistLoader.prototype.showItems=function(){for(var e=1;e<=this.numLoadItems;e++){var t,a,i=this.loadItems.shift();i?(a=(t=i.querySelector(".js-playlist-image")).dataset.src,t.src=a,o.style.removeClass(i,r)):o.style.addClass(this.loadBtn,r)}this.hideButton()},t.PlaylistLoader.prototype.hideButton=function(){0===this.container.querySelectorAll(".js-playlist-load-item.u-hide").length&&o.style.addClass(this.loadBtn,r)};var e=document.querySelectorAll('[data-widget="playlist-loader"]');Array.prototype.slice.call(e).forEach(function(e){new t.PlaylistLoader(e)})}(PULSE.app,PULSE.core),function(i,o,r){var n={DEFAULT:[],PAUSED:["is-paused"],PLAYING:["is-playing"]},t={thumbnail:"Media Thumbnail - Small",thumbnailRetina:"Media Thumbnail - Large",thumbnailMobile:"Media Thumbnail - Small",thumbnailMobileRetina:"Media Thumbnail - Small"};i.AutoPlaylistItem=function(e,t){var a=this;a.setConfig(t),a.setData(e),a.container=a.getElement(),a.eventTarget=document.querySelector("body"),a.setListeners()},i.AutoPlaylistItem.prototype.setConfig=function(e){e=e||{},this.container=void 0!==e.container?e.container:null,this.template=e.template||"auto_playlist_item",this.variants=e.variants||t},i.AutoPlaylistItem.prototype.setData=function(e){var t=this,a=i.common.content.getContentModel(e,t.variants);t.id=e.id,t.type=e.type,t.mediaId=e.mediaId,t.title=e.title,t.closedCaption=e.closedCaptioned,t.description=e.description,t.subtitle=e.subtitle,t.duration=e.duration,t.durationFormatted=i.common.durationToTime(e.duration),t.link=a.link,t.dateFormatted=a.dateFormatted,t.leadMediaUrls=a.leadMediaUrls,t.publishFrom=e.pusblishFrom,t.isPortrait=a.isPortrait,t.thumbnail={imageUrl:o.getImageUrl(e.thumbnail,"350","220"),imageUrlDesktop:o.getImageUrl(e.thumbnail,"135","85"),imageUrl2x:o.getImageUrl(e.thumbnail,"270","170"),imageTabletUrl:o.getImageUrl(e.thumbnail,"330","200"),imageMobileUrl:o.getImageUrl(e.thumbnail,"205","115")},e.tags&&(t.fantasy=e.tags.filter(function(e){return"Fantasy"===e.label})),e.references&&(t.audioDescription=e.references.filter(function(e){return"ACCESSIBLE_VIDEO"===e.type}))},i.AutoPlaylistItem.prototype.setListeners=function(){var t=this;t.container.addEventListener("click",function(e){o.event.dispatch(i.common.event.PLAYLIST.SET_MEDIA,{video:t},t.eventTarget),e.preventDefault()}),t.eventTarget.addEventListener(i.common.event.VIDEO.PAUSE,function(e){e.detail.mediaId===t.mediaId&&t.setVideoState("PAUSED")}),t.eventTarget.addEventListener(i.common.event.VIDEO.PLAY,function(e){e.detail.mediaId===t.mediaId?t.setVideoState("PLAYING"):"DEFAULT"!==t.state&&t.resetState()})},i.AutoPlaylistItem.prototype.resetState=function(){this.state="DEFAULT",this.setVideoStateClasses(this.state)},i.AutoPlaylistItem.prototype.setInitialPlayState=function(){this.state="PLAYING",this.setVideoStateClasses(this.state)},i.AutoPlaylistItem.prototype.setVideoState=function(e){this.state=e,this.setVideoStateClasses(e)},i.AutoPlaylistItem.prototype.getElement=function(){if(this.container)return this.container;var e={item:this};return o.templating.stringToElement(Mustache.render(i.templates[this.template],e))},i.AutoPlaylistItem.prototype.setVideoStateClasses=function(e){var t=this;if(n[e]){var a,i=[];for(a in n)a!==e&&(i=i.concat(n[a]));i.forEach(function(e){r.style.removeClass(t.container,e)}),n[e].forEach(function(e){r.style.addClass(t.container,e)})}}}(PULSE.app,PULSE.app.common,PULSE.core);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,r){var o={callback:null,parseUrl:!1};i.AutoPlaylist=function(e,t){var a=this;a.container=e,a.title=document.querySelector(".js-playlist-title"),a.config=r.object.extend({},t||o),a.items=n(a.container),a.videoTags=i.common.widget.getArrayAttribute("data-tags",a.container),a.requestConfig={filter:{},type:"video",id:null,sidebarUrl:t.sidebarURL},a.pagination=null,a.config.parseUrl&&a.defineRequest()},i.AutoPlaylist.prototype.defineRequest=function(){var e=this;e.requestConfig.type="video",e.requestConfig.id=null,e.requestConfig.filter&&(e.requestConfig.filter.tagNames="",e.requestConfig.filter.referenceExpression="");var a,t,i,o={},o=e.requestConfig.sidebarUrl?{playlist:r.url.getParameterByName("PLAYLIST",e.requestConfig.sidebarUrl),tag:r.url.getParameterByName("TAG",e.requestConfig.sidebarUrl),clubs:r.url.getParameterByName("FOOTBALL_CLUBS",e.requestConfig.sidebarUrl),people:r.url.getParameterByName("FOOTBALL_PERSONS",e.requestConfig.sidebarUrl),mostWatched:r.url.getParameterByName("MOST_WATCHED",e.requestConfig.sidebarUrl)}:{playlist:r.url.getParam("PLAYLIST"),tag:r.url.getParam("TAG"),clubs:r.url.getParam("FOOTBALL_CLUBS"),people:r.url.getParam("FOOTBALL_PERSONS"),mostWatched:r.url.getParam("MOST_WATCHED")};e.requestConfig.filter=r.object.extend(e.requestConfig.filter,{page:0,detail:"DETAILED",pageSize:r.url.getParam("pageSize")||10,fullObjectResponse:!0}),o.playlist?(e.requestConfig.type="playlist",e.requestConfig.id=o.playlist):o.tag?(e.requestConfig.filter.tagNames=o.tag,e.title.innerHTML=o.tag+" Playlist"):o.people?(t=o.people.split(","),a="",t.forEach(function(e,t){0!==t&&(a+="or"),a=a+"FOOTBALL_PERSON:"+e}),e.requestConfig.filter.referenceExpression=a,e.title.innerHTML="More Videos"):o.clubs?(t=o.clubs.split(","),i="",t.forEach(function(e,t){0!==t&&(i+="or"),i=i+"FOOTBALL_CLUB:"+e}),e.requestConfig.filter.referenceExpression=i,e.title.innerHTML="More Videos"):o.mostWatched?(e.requestConfig.filter.viewCountWindowSeconds=o.mostWatched,e.title.innerHTML="Most Watched"):e.title.innerHTML="Latest Videos"},i.AutoPlaylist.prototype.getData=function(){var e=this,e={url:i.common.createContentPath(e.requestConfig.type,e.requestConfig.filter,void 0,e.requestConfig.id),method:"GET",callback:e.processData,target:e,forceCallback:!0};r.data.manager.add(e)},i.AutoPlaylist.prototype.processData=function(e,t){var a=this;e&&"number"!=typeof e.status?e.content&&0<e.content.length?(a.pagination=e.pageInfo,a.render(e.content)):e.items&&0<e.items.length&&(a.title.innerHTML=e.title,a.pagination=e.pageInfo,a.render(e.items.map(function(e){return e.response}))):(console.warn(e),"function"==typeof a.config.callback&&a.config.callback())},i.AutoPlaylist.prototype.render=function(e){var t=this;e.filter(function(e){return-1===l(t.items,e.id)}).forEach(function(e){e=new i.AutoPlaylistItem(e);t.items.push(e),t.container.appendChild(e.getElement())}),"function"==typeof t.config.callback&&t.config.callback()},i.AutoPlaylist.prototype.getItemById=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].id===e)return this.items[t];return null},i.AutoPlaylist.prototype.getItemByMediaId=function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].mediaId===e)return this.items[t];return null},i.AutoPlaylist.prototype.getNextItem=function(e){var t=this,a=void 0;"number"==typeof e?a=e:"object"===(void 0===e?"undefined":_typeof(e))&&e.id&&(a=e.id);a=l(t.items,a);return a+1!==t.items.length-1&&a!==t.items.length-1||t.getNextPage(),t.items[a+1]},i.AutoPlaylist.prototype.getNextPage=function(){return!!this.canLoadMore()&&(this.requestConfig.filter.page++,this.getData(),!0)},i.AutoPlaylist.prototype.canLoadMore=function(){return this.pagination&&this.pagination.page+1<this.pagination.numPages},i.AutoPlaylist.prototype.getDuration=function(){return i.common.content.getTotalDuration(this.items)};for(var n=function(e){return Array.prototype.slice.call(e.children).map(function(e){var t,t=(t=e).getAttribute("data-video-id")?{id:parseInt(t.getAttribute("data-video-id")),type:"video",title:t.getAttribute("data-video-title"),description:t.getAttribute("data-video-description"),subtitle:t.getAttribute("data-video-subtitle"),duration:i.common.widget.getNumberAttribute("data-video-duration",t),publishFrom:i.common.widget.getNumberAttribute("data-video-publish-from",t),mediaId:t.getAttribute("data-media-id"),thumbnail:null}:null;return t?new i.AutoPlaylistItem(t,{container:e}):null}).filter(function(e){return null!==e})},l=function(e,t){for(var a=0;a<e.length;a++)if(e[a].id===t)return a;return-1},e=document.querySelectorAll('[data-widget="auto-playlist"]'),t=0;t<e.length;t++){new i.AutoPlaylist(e[t],{parseUrl:!0}).getData()}}(PULSE.app,(PULSE.app.common,PULSE.core)),function(a){a.PlaylistTracker=function(e,t){var a=this;a.container=e,a.autoPlaylist=t,a.playedVideos={},a.lastVideoPlayed=0,a.container.getAttribute("data-tracker-action")?a.videoPlayer=a.container:a.videoPlayer=a.container.querySelector("[data-tracker-action]"),a.setListeners()},a.PlaylistTracker.prototype.setListeners=function(){var t=this;t.container.addEventListener(a.common.event.VIDEO.PLAY,function(e){e=t.autoPlaylist.getItemByMediaId(e.detail.mediaId);t.playedVideos[e.id]?t.lastVideoPlayed!==e.id&&(t.videoPlayer.setAttribute("data-tracker-status",!1),t.trackView(e.id)):"true"!==t.videoPlayer.getAttribute("data-tracker-status")&&t.trackView(e.id),t.lastVideoPlayed=e.id}),t.container.addEventListener(a.common.event.VIDEO.END,function(e){t.resetTracker(e.detail.mediaId)}),t.container.addEventListener(a.common.event.VIDEO.SET_MEDIA,function(e){t.lastVideoPlayed!==e.detail.video.id&&t.resetTracker(e.detail.video.mediaId)})},a.PlaylistTracker.prototype.trackView=function(e){new a.ContentTracker(this.videoPlayer,"VIEW","VIDEO",e),this.playedVideos[e]=!0},a.PlaylistTracker.prototype.resetTracker=function(e){e=this.autoPlaylist.getItemByMediaId(e);this.playedVideos[e.id]=!1,this.videoPlayer.setAttribute("data-tracker-status",!1)}}(PULSE.app),function(i,o,r){var n="video-auto-play",l="auto-playlist-toggle--disabled";i.VideoSidebar=function(e,t){var a=this;a.container=e,a.sidebarHeader=document.querySelector(".js-sidebar-header"),a.autoPlayToggle=a.sidebarHeader.querySelector(".js-playlist-toggle"),a.checkAutoPlayCookie=r.localStorage.getStorage(n),a.checkAutoPlayCookie?a.autoPlay="true"===a.checkAutoPlayCookie:a.autoPlay=!0,a.autoPlay?r.style.removeClass(a.autoPlayToggle,l):r.style.addClass(a.autoPlayToggle,l),a.durationMarker=a.container.querySelector(".js-duration"),a.playlistContainer=a.container.querySelector(".js-videos-list"),a.playerName=a.container.getAttribute("data-player-name"),a.scrollableContainer=document.querySelector(".js-sidebar-desktop"),a.currentVideoId=parseInt(a.playlistContainer.dataset.startVideoId),a.eventTarget=document.querySelector("body"),a.player=null;t={parseUrl:a.canScrollIntoView=!0,sidebarURL:t,callback:function(){a.onRender()}};a.autoPlaylist=new i.AutoPlaylist(a.playlistContainer,t),a.playlistTracker=new i.PlaylistTracker(document.body,a.autoPlaylist),a.onResize(),a.setListeners(),a.autoPlaylist.getData()},i.VideoSidebar.prototype.setListeners=function(){var t=this;r.event.windowResize.add({method:t.onResize.bind(t)}),t.eventTarget.addEventListener(o.event.PLAYLIST.SET_MEDIA,function(e){t.currentVideoId=e.detail.video.id,t.bringVideoIntoView()}),t.eventTarget.addEventListener(o.event.VIDEO.CLOSE_FULL_SCREEN,function(){t.onResize()}),t.eventTarget.addEventListener(o.event.VIDEO.END,t.advancePlaylist.bind(t)),t.autoPlayToggle.addEventListener("click",function(){t.autoPlay=!t.autoPlay,r.localStorage.setStorage(n,t.autoPlay),r.style.toggleClass(t.autoPlayToggle,"auto-playlist-toggle--disabled")});var a=!1;t.scrollableContainer.addEventListener("scroll",function(e){a||(window.requestAnimationFrame(function(){t.onSidebarScroll(),a=!1}),a=!0)})},i.VideoSidebar.prototype.advancePlaylist=function(){var e,t=this;!t.autoPlay||(e=t.autoPlaylist.getNextItem(t.currentVideoId))&&(t.autoPlaylist.getItemById(t.currentVideoId).resetState(),e.setInitialPlayState(),t.currentVideoId=e.id,o.event.dispatch(o.event.PLAYLIST.SET_MEDIA,{video:e},t.eventTarget),t.onSidebarScroll())},i.VideoSidebar.prototype.onResize=function(){window.outerWidth>i.measurements.tablet&&(this.config={scrollBoundary:".js-video-sidebar"}),window.outerWidth<=i.measurements.tablet&&(this.config={scrollBoundary:".js-sidebar-mobile"}),this.loader&&this.loader.reset()},i.VideoSidebar.prototype.didRequestLoad=function(){this.autoPlaylist.getNextPage()&&this.loader},i.VideoSidebar.prototype.onRender=function(){var e=this;e.loader&&(e.loader.contentLoaded(),e.loader.removeLoader(),e.autoPlaylist.canLoadMore()?e.loader.newLoader():e.loader.completedDataLoad()),!e.loader&&e.autoPlaylist.canLoadMore()&&(e.loader=new o.ScrollLoader(e.playlistContainer,e,!0))},i.VideoSidebar.prototype.isVisibleInScrollView=function(e){var t=e.getBoundingClientRect(),a=document.querySelector(this.config.scrollBoundary).getBoundingClientRect(),e=a.top,a=a.bottom;return t.top>=e&&a>=t.bottom},i.VideoSidebar.prototype.bringVideoIntoView=function(){var e=this,t=e.autoPlaylist.getItemById(e.currentVideoId).getElement();e.canScrollIntoView&&!e.isVisibleInScrollView(t)&&o.scrollElementAnimated(e.config.scrollBoundary,t,-65,50,e.onSidebarScroll.bind(e))},i.VideoSidebar.prototype.onSidebarScroll=function(){var e=this.autoPlaylist.getItemById(this.currentVideoId);this.canScrollIntoView=this.isVisibleInScrollView(e.getElement())};for(var e=document.querySelectorAll('[data-widget="video-sidebar"]'),t=0;t<e.length;t++)new i.VideoSidebar(e[t])}(PULSE.app,PULSE.app.common,PULSE.core),function(i,o,r){var n="play-video-w",l={root:null,rootMargin:"0px",threshold:.025};i.VideoPagePlayer=function(e){var t=this;t.container=e,t.eventTarget=document.querySelector("body"),t.playerCol=document.querySelector(".main-video-col"),t.videoPlayerContainer=document.querySelector(".js-video-container"),t.videoPlayer=document.querySelector('[data-widget="video-player_v2"]'),t.playerMuted=!1,t.playerName=t.container.getAttribute("data-player-name"),t.urlQuery=location.href.split("?")[1],t.player=null,t.videoId=t.container.dataset.videoId,t.disableMiniPlayer=t.container.dataset.disableMiniPlayer,t.eventTarget=document.querySelector("body"),t.shareId=t.container.dataset.shareId;var a=t.container.querySelector(".js-video-player-social-share"),e=window.location.hostname+"/video/single/"+t.shareId+window.location.search;t.pageShare?t.pageShare.setUrl(e):a&&(t.pageShare=new o.pageShare(a,e)),t.setListeners()},i.VideoPagePlayer.prototype.getPlayer=function(){var e=this;return e.player||(e.player=i.videoPlayerManager.getPlayerWithName(e.playerName),e.player&&e.player.attemptToFindMetaDivs(e.container)),e.player},i.VideoPagePlayer.prototype.playVideo=function(e,t){var a,i=this.getPlayer();i?(i.api.mediainfo.id!==e.mediaId&&this.setPageContext(e),a=void 0,a=!(!e.audioDescription||!e.audioDescription.length)&&e.audioDescription[0].id,e.noAutoplay=!!e.noAutoplay&&e.noAutoplay,i.playVideoWithID(e.mediaId,a,e.id,t,e.noAutoplay),r.style.toggleClass(this.miniPause,n)):console.error("Trying to play video with ID "+e.id+" but video player not ready")},i.VideoPagePlayer.prototype.pauseVideo=function(e){var t=this.getPlayer();t?t.api.mediainfo.id!==e.mediaId||t.api.paused()||t.api.pause():console.error("Trying to pause video with ID "+e.id+" but video player not ready")},i.VideoPagePlayer.prototype.setPageContext=function(e){var t;this.getPlayer().setMeta({title:e.title,description:e.description,date:e.dateFormatted,duration:e.durationFormatted,contentId:e.id,subtitle:e.subtitle}),e.noUpdateUrl||(t=o.generateContentUrl(e.type,e.id)+(this.urlQuery?"?"+this.urlQuery:""),history.pushState({},"Video: "+e.title,t),o.metadata.setTitles(e.title),o.metadata.setDescriptions(e.description||""))},i.VideoPagePlayer.prototype.setListeners=function(){var a=this;a.eventTarget.addEventListener(o.event.PLAYLIST.SET_MEDIA,function(e){var t=a.getPlayer();t&&(e.detail.video.mediaId===t.videoID?t.api.paused()?a.playVideo(e.detail.video,!1):a.pauseVideo(e.detail.video):a.playVideo(e.detail.video,!0))}),a.muteBtn=a.container.querySelector(".js-mute"),a.muteBtn.addEventListener("click",function(e){a.playerMuted=!a.playerMuted,a.getPlayer().api.muted(a.playerMuted),r.style.toggleClass(e.target,"icn-unmuted")}),a.miniPause=a.container.querySelector(".js-mini-pause"),a.miniPause.addEventListener("click",function(e){var t=a.getPlayer();r.style.toggleClass(e.target,n),t.api.paused()?t.api.play(!0):t.api.pause(!0)}),a.toTop=a.container.querySelector(".js-to-top"),a.toTop.addEventListener("click",function(e){o.scrollElementAnimated(".main-video-col",a.playerCol,0,70)}),a.miniClose=a.container.querySelector(".js-mini-close"),a.miniClose.addEventListener("click",function(e){a.getPlayer().api.pause(!0),a.hideMiniPlayer()}),a.eventTarget.addEventListener(i.common.event.VIDEO.PAUSE,function(e){r.style.addClass(a.miniPause,n)}),a.eventTarget.addEventListener(i.common.event.VIDEO.PLAY,function(e){r.style.removeClass(a.miniPause,n)}),a.playerObserver=new IntersectionObserver(a.handlePlayerScroll.bind(a),l),a.playerObserver.observe(a.videoPlayerContainer)},i.VideoPagePlayer.prototype.handlePlayerScroll=function(e){var t;this.getPlayer()&&window.innerWidth>=i.measurements.tablet&&!this.disableMiniPlayer&&(t=e[0],e[0].target,t.intersectionRatio>l.threshold?this.hideMiniPlayer():t.intersectionRatio<l.threshold&&this.showMiniPlayer())},i.VideoPagePlayer.prototype.showMiniPlayer=function(){r.style.addClass(this.videoPlayer,"mini-player-active"),r.style.addClass(this.videoPlayerContainer,"video-container--spacer"),this.getPlayer().api.controls(!1)},i.VideoPagePlayer.prototype.hideMiniPlayer=function(){r.style.removeClass(this.videoPlayer,"mini-player-active"),r.style.removeClass(this.videoPlayerContainer,"video-container--spacer"),this.getPlayer().api.controls(!0)};var e=document.querySelector('[data-widget="video-page-player"]');e&&(i.videoPagePlayer=new i.VideoPagePlayer(e))}(PULSE.app,PULSE.app.common,PULSE.core),function(i,r){function e(){n=[],this.scriptSource="//players.brightcove.net/{{account}}/{{playerId}}_default/index.min.js?{{elementId}}",this.createScripts()}var o={},n=[],l=[];e.prototype.getPlayer=function(){if(n[0])return o[n[0]]},e.prototype.getPlayersMap=function(){return o},e.prototype.getPlayerNameArray=function(){return n},e.prototype.getPlayerWithName=function(t,e){var a=n.filter(function(e){return e===t});return 0<a.length?o[a[0]]:!(!e||!o[0])&&o[0]},e.prototype.addPlayer=function(e){videojs(e.id).ready(function(){o[this.id_]=new i.videoPlayerBrightCoveVideo(this.el_.parentElement,this),n.push(this.id_),videojs(this.id_).on("play",function(){i.common.event.dispatch(i.common.event.VIDEO.PLAY,{playerId:this.id_,mediaId:this.mediainfo.id},this.el_)}),videojs(this.id_).on("pause",function(){i.common.event.dispatch(i.common.event.VIDEO.PAUSE,{playerId:this.id_,mediaId:this.mediainfo.id},this.el_)}),videojs(this.id_).on("ended",function(){i.common.event.dispatch(i.common.event.VIDEO.END,{playerId:this.id_,mediaId:this.mediainfo.id},this.el_)})})};e.prototype.createPlayers=function(e){Array.prototype.forEach.call(document.querySelectorAll("video"),function(e){i.videoPlayerManager.addPlayer(e)})},e.prototype.createScripts=function(){var o=this,e=document.querySelectorAll("video");Array.prototype.map.call(e,function(e,t,a){var i={account:e.getAttribute("data-account"),playerId:e.getAttribute("data-player"),elementId:e.getAttribute("id")};i.account&&i.playerId&&(e=r.common.formatString(o.scriptSource,i),-1===l.indexOf(e)&&(i=document.createElement("script"),document.getElementsByTagName("body")[0].appendChild(i),i.onload=o.createPlayers,i.src=e,l.push(e)))})},i.videoPlayerManager=new e,i.videoPlayerManager.onTemplateLoaded=function(e){var t=brightcove.api.getExperience(e),a=t.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER);i.videoPlayerManager.registerPlayerApi(e,t,a)}}(PULSE.app,PULSE.core),function(r,o,a,i){var n="u-hide",l="u-disabled";r.videoPlayerBrightCoveVideo=function(e,t){var a=this;a.name=t.id_||"default_player",a.api=t,a.catalog=a.api.catalog,a.players=document.querySelectorAll('[data-widget="video-player"]'),a.model={"audioDesc-label":i.lookup("label.audiodescription"),"audioDesc-text":i.lookup("label.audiodescriptionavailable"),"disAudioDesc-text":i.lookup("label.disableaudiodescription"),"closedCap-label":i.lookup("label.closedcaption")},a.idToPlayOnLoad=!1,a.ready=!1,a.element=e,a.metaElements=!1,a.id="",a.requestConfig={filter:{},type:"video",id:null},a.attemptToFindMetaDivs(),a.hasWebVTT()},r.videoPlayerBrightCoveVideo.prototype.setupTracking=function(){var o=this,e=document.querySelectorAll(".video-js video");Array.prototype.map.call(e,function(a){var e=a.id,i=videojs(e);i.off("play"),i.on("play",function(){var e=Math.floor(i.cache_.currentTime),t=Math.floor(i.cache_.duration);0!==e&&e!==t||(parseInt(a.dataset.trackerId),t={contentType:"VIDEO",contentId:o.trackerID,action:"VIEW"},r.ContentTracker(t))})})},r.videoPlayerBrightCoveVideo.prototype.attemptToFindMetaDivs=function(){var e=this,t=e.element.closest(".js-video-wrapper");e.audioElement=t.querySelector(".js-audio-desc")||!1,e.captionElement=t.querySelector(".js-closed-caption")||!1,e.audioTextElement=t.querySelector(".js-audio-desc-text")||!1,e.metaElements={title:t.querySelector(".js-video-title")||!1,description:t.querySelector(".js-video-description")||!1,date:t.querySelector(".js-video-date")||!1,duration:t.querySelector(".js-video-duration")||!1}},r.videoPlayerBrightCoveVideo.prototype.hasWebVTT=function(){var e=this;e.embeddedVTT=e.element.firstElementChild.getAttribute("data-webVTT-id"),e.embeddedId=e.element.firstElementChild.getAttribute("data-video-id"),e.videoId=e.element.firstElementChild.getAttribute("data-video-id"),e.trackerID=e.element.firstElementChild.getAttribute("data-tracker-id"),e.id=e.trackerID,e.embeddedVTT&&e.embeddedId&&(e.articleEmbed=!0,e.checkCaptions()),e.setupTracking()},r.videoPlayerBrightCoveVideo.prototype.setMeta=function(a){var e,t,i=this;Object.keys(i.metaElements).map(function(e){var t=i.metaElements[e];t&&a[e]?t.innerHTML=a[e]:t&&"audioDesc"!==t.className&&(t.innerHTML="")}),a.hotlinkText&&a.hotlinkUrl&&-1!==a.description.indexOf(a.hotlinkText)&&(t=-1===a.hotlinkUrl.indexOf(r.environment.domain)?'target="_blank"':"",e='<a href="'+a.hotlinkUrl+'"'+t+">"+a.hotlinkText+"</a>",t=a.description.replace(a.hotlinkText,e),i.metaElements.description.innerHTML=t),a.contentId&&(e=i.element.closest(".js-video-wrapper").querySelector(".js-video-player-social-share"),t=window.location.hostname+"/video/single/"+a.contentId+window.location.search,i.pageShare?i.pageShare.setUrl(t):e&&(i.pageShare=new o.pageShare(e,t)))},r.videoPlayerBrightCoveVideo.prototype.playVideoWithID=function(e,t,a,i,o){var r=this;r.newVideo=i,r.videoID&&t||(r.videoID=e),void 0!==a&&(r.trackerID=a);for(var n=0;n<r.players.length;n++)r.players[n].style.display="";r.catalog.getVideo(e,function(e,t){r.catalog.load(t),o||r.api.play(),r.checkCaptions()})},r.videoPlayerBrightCoveVideo.prototype.setListeners=function(t,e){var a=this;["keypress","click"].forEach(function(e){t.addEventListener(e,function(e){13!==e.which&&"click"!==e.type||((e=a.api.mediainfo.custom_fields.web_vtt)?(a.embeddedId=a.api.mediainfo.id,a.audioTextElement.innerHTML=a.model["disAudioDesc-text"],a.playVideoWithID(e,!0)):(a.audioTextElement.innerHTML=a.model["audioDesc-text"],e=void 0,e=a.embeddedId?a.embeddedId:a.videoID,a.playVideoWithID(e)))})})},r.videoPlayerBrightCoveVideo.prototype.checkCaptions=function(){var e=this;e.audioDescription="",e.requestConfig.filter=a.object.extend(e.requestConfig.filter,{page:0,detail:"DETAILED",pageSize:a.url.getParam("pageSize")||1,fullObjectResponse:!0});e={url:r.common.createContentPath("VIDEO",e.requestConfig.filter,void 0,e.trackerID),method:"GET",callback:e.processData,target:e};a.data.manager.add(e)},r.videoPlayerBrightCoveVideo.prototype.processData=function(e){var t=this;e&&(e.references&&(t.audioDescription=e.references.filter(function(e){return"ACCESSIBLE_VIDEO"===e.type})),e=r.common.content.getContentModel(e,{}),t.closedCaption=e.closedCaptioned,t.audioDescription.length||t.closedCaption?(t.toggleADContainer(!0),t.audioDescription.length?t.toggleAudioDesc(!0):t.toggleAudioDesc(!1),t.closedCaption?t.toggleClosedCaption(!0):t.toggleClosedCaption(!1)):(t.toggleAudioDesc(!1),t.toggleClosedCaption(!1),t.toggleADContainer(!1)))},r.videoPlayerBrightCoveVideo.prototype.toggleADContainer=function(e){e?a.style.removeClass(this.audioElement.parentElement,n):a.style.addClass(this.audioElement.parentElement,n)},r.videoPlayerBrightCoveVideo.prototype.toggleAudioDesc=function(e){var t=this;e?(t.newVideo&&(t.audioTextElement.innerHTML=t.model["audioDesc-text"]),a.style.hasClass(t.audioElement,n)&&(a.style.removeClass(t.audioElement,n),a.style.removeClass(t.audioTextElement,n),a.style.removeClass(t.audioElement.parentElement,l)),t.setListenerSet||(t.setListeners(t.audioElement.parentElement),t.setListenerSet=!0)):(a.style.addClass(t.audioElement,n),a.style.addClass(t.audioTextElement,n),a.style.addClass(t.audioElement.parentElement,l))},r.videoPlayerBrightCoveVideo.prototype.toggleClosedCaption=function(e){this.captionElement,e?a.style.hasClass(this.captionElement,n)&&a.style.removeClass(this.captionElement,n):a.style.addClass(this.captionElement,n)},r.videoPlayerBrightCoveVideo.prototype.stopVideo=function(){this.api.pause()},r.videoPlayerBrightCoveVideo.prototype.resetPlayer=function(){this.api.reset()}}(PULSE.app,PULSE.app.common,PULSE.core,PULSE.I18N),function(e,a){var i="is-active",o="in-focus";e.VideoSearch=function(e){var t=this;t.container=e,t.url="/search",t.searchInputContainer=t.container.querySelector(".js-search-input"),t.searchButtonContainer=t.container.querySelector(".js-search-button-container"),t.term="",t.setListeners(),t.searchInputContainer.value=""},e.VideoSearch.prototype.setListeners=function(){var t=this;t.searchInputContainer.addEventListener("keypress",function(e){13===(e.keyCode||e.which)&&t.searchTerm()}),t.searchInputContainer.addEventListener("focus",function(e){a.style.hasClass(t.searchInputContainer.parentElement,o)||a.style.addClass(t.searchInputContainer.parentElement,o)}),t.searchInputContainer.addEventListener("blur",function(e){a.style.hasClass(t.searchInputContainer.parentElement,o)&&a.style.removeClass(t.searchInputContainer.parentElement,o)}),t.searchInputContainer.addEventListener("keyup",function(e){0<t.searchInputContainer.value.length?(a.style.hasClass(t.container,i)||a.style.addClass(t.container,i),a.style.addClass(t.searchButtonContainer,i)):a.style.hasClass(t.container,i)&&(a.style.removeClass(t.container,i),a.style.removeClass(t.searchButtonContainer,i))}),t.searchButtonContainer.addEventListener("click",function(e){t.searchTerm()})},e.VideoSearch.prototype.searchTerm=function(){var e=this.url,t=this.searchInputContainer.value;t&&""!==t&&(e+="?term="+t+"&tab=Videos",window.location.href=e)};var t=document.querySelector('[data-widget="video-search"]');t&&(e.VideoSearch=new e.VideoSearch(t))}(PULSE.app,(PULSE.app.common,PULSE.core));